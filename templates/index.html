<!DOCTYPE html>
<html lang="en">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type=text/javascript>
    $(function() {
        $('a#test').on('click', function(e) {
            $.getJSON('background_process_test',  // app route and function name in dashboard.py
            function(data) {
                // do nothing
            });
            return false;
        });
    });
    $(function() {
        $('a#test1').on('click', function(e) { // a#test1 corresponds to id=test1 in <a href=# id=test1><button... 
            $.getJSON('background_process_ip', // app route and function name in dashboard.py
            function(data) {
                // do nothing
            });
            return false;
        });
    });
    // new down
    $(document).ready(function(){
        $("button").click(function(){
            $("#box").load(r"\templates\ip_interface.html");
        });
    });
    // new up

    // this block works after page loads, no action needed
    // see https://www.w3schools.com/xml/ajax_intro.asp
    // and https://stackoverflow.com/questions/25446628/ajax-jquery-refresh-div-every-5-seconds
    function cpuRefresh(){
        $.getJSON('background_process_timed_cpu',function () { // background_process_timed_cpu' corresponds to app route
            $(this).unwrap();
        });
    }

    cpuRefresh(); // This will run on page load, calls cpuRefresh function above, that then calls to the app route in dashboard.py
    setInterval(function(){
        cpuRefresh() // this will run after every 5 seconds
    }, 5000); // time in ms
    // end block
</script>


<!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
    $(document).ready(function(){
        $("#btn").click(function(){
            $("#test").load("demo.html");
        });
    });
</script> -->
<head>
    <meta charset="UTF-8">
    <title>Guest Shell Dashboard</title>
</head>
<body>
   <h1>Welcome to Cisco's Guest Shell Dashboard </h1>
    <div class='container'>
        <h3>Send host name to console.</h3>
            <form>
                <a href=# id=test><button class='btn btn-default'>Get Host Name</button></a>
            </form>
        <h3>Send IP address to console.</h3>
            <form>
                <a href=# id=test1><button class='btn btn-default'>Get IP Address</button></a>
            </form>
        <h3>Send CPU usage is sent to the console every 5 seconds.</h3>
    </div>
    <div id="test"><p>This text should change</p></div>

    <button id="btn">Show IP Inteface Brief</button>

    <!-- new below -->
    <div id="box">
        <h3>Click button to load new content inside DIV box</h3>
    </div>
    <button type="button">Load Content</button>
</body>
</html>
